<div class="bg-white p-6 shadow rounded mb-6">
  <h2 class="text-2xl font-bold mb-2"><%= @task.title %></h2>
  <p class="mb-4 text-gray-600"><%= @task.description %></p>

  <%= button_to "Mark as #{ @task.completed ? 'Incomplete' : 'Completed' }",
      toggle_complete_task_path(@task), method: :patch,
      form: { data: { turbo_stream: true } },
      class: "bg-green-600 text-white px-4 py-2 rounded" %>
</div>

<h3 class="text-xl font-semibold mb-3">Comments</h3>

<%= turbo_frame_tag "comments" do %>
  <div id="comments">
    <%= render @task.comments %>
  </div>
<% end %>

<%= turbo_frame_tag "new_comment" do %>
  <%= render "comments/form", task: @task, comment: @comment %>
<% end %>

