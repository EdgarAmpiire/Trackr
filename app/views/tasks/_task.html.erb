<div id="<%= dom_id(task) %>" class="bg-white shadow p-4 rounded flex justify-between items-center">
  <div>
    <h3 class="text-lg font-semibold <%= 'line-through text-gray-400' if task.completed %>">
      <%= link_to task.title, task, class: "hover:underline" %>
    </h3>
    <p class="text-sm text-gray-500"><%= truncate(task.description, length: 60) %></p>
  </div>

  <div class="flex gap-2">
    <%= button_to (task.completed ? "Mark Incomplete" : "Mark Complete"),
      toggle_complete_task_path(task),
      method: :patch,
      form: { data: { turbo_stream: true } },
      class: "bg-green-600 text-white px-3 py-1 rounded" %>

    <%= link_to "Edit", edit_task_path(task), class: "bg-yellow-500 text-white px-3 py-1 rounded" %>
    <%= link_to "Delete", task, data: { turbo_confirm: "Are you sure?" }, method: :delete, class: "bg-red-600 text-white px-3 py-1 rounded" %>
  </div>
</div>
